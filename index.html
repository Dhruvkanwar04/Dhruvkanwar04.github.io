<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>NirvanaWay | Tour Packages</title>

  <meta name="description" content="NirvanaWay offers affordable tour packages across India. Customize trips for Goa, Manali, Himachal & Rajasthan. Best prices & 24x7 support.">
  <meta name="keywords" content="India tour packages, Goa tour, Manali trip, Himachal tour, Rajasthan tour, custom travel packages">

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="logo">NirvanaWay</div>
  <div class="menu">
    <button id="darkToggle">ðŸŒ™</button>
    <a href="index.html">Home</a>
    <a href="list-your-property.html">List Your Property</a>
    <a href="custom-package.html">Customize Trip</a>
    <a href="#packages">Packages</a>
    <a href="contact.html">Contact</a>
  </div>
</nav>

<!-- HERO -->
<header class="hero">
  <h1>Affordable Tour Packages Across India</h1>
  <p>Custom trips â€¢ Best prices â€¢ 24Ã—7 support</p>
  <a href="#packages" class="btn">View Packages</a>
  <a href="https://wa.me/919891358708" class="btn whatsapp">Book on WhatsApp</a>
</header>

<!-- PACKAGES -->
<section class="packages" id="packages" data-aos="fade-up">
  <h2>Popular Tour Packages</h2>

  <div class="package-list">

    <div class="package-card" data-aos="zoom-in">
      <img src="images/goa.jpg" alt="Goa Tour">
      <h3>Goa Tour</h3>
      <p>4 Nights / 5 Days</p>
      <p>Starting from â‚¹12,999</p>
      <a href="#places" class="btn" data-city="goa">View Details</a>
    </div>

    <div class="package-card" data-aos="zoom-in">
      <img src="images/himachal.jpg" alt="Himachal Tour">
      <h3>Himachal Tour</h3>
      <p>6 Nights / 7 Days</p>
      <p>Starting from â‚¹23,999</p>
      <a href="#places" class="btn" data-city="himachal">View Details</a>
    </div>

    <div class="package-card" data-aos="zoom-in">
      <img src="images/rajasthan.jpg" alt="Rajasthan Tour">
      <h3>Rajasthan Tour</h3>
      <p>5 Nights / 6 Days</p>
      <p>Starting from â‚¹16,499</p>
      <a href="#places" class="btn" data-city="rajasthan">View Details</a>
    </div>

    <div class="package-card" data-aos="zoom-in">
      <img src="images/manali.jpg" alt="Manali Tour">
      <h3>Manali Tour</h3>
      <p>5 Nights / 6 Days</p>
      <p>Starting from â‚¹18,999</p>
      <a href="#places" class="btn" data-city="manali">View Details</a>
    </div>

  </div>
</section>

<!-- CITY SELECT -->
<section class="city-select">
  <h2>Select Destination</h2>
  <select id="citySelect" class="city-dropdown">
    <option value="goa">Goa</option>
    <option value="manali">Manali</option>
    <option value="himachal">Himachal</option>
    <option value="rajasthan">Rajasthan</option>
  </select>
</section>

<!-- MAP -->
<div id="map" style="height:400px; width:100%; margin:40px 0;"></div>

<!-- ATTRACTIONS -->
<section class="places" id="places">
  <h2>Top Attractions Nearby</h2>
  <div id="placesList" class="package-list"></div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <p>&copy; 2024 NirvanaWay. All rights reserved.</p>
</footer>

<a href="https://wa.me/919891358708" class="whatsapp-float" target="_blank">ðŸ’¬</a>

<!-- JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>
AOS.init({ duration: 900, once: true });

document.getElementById("darkToggle").onclick = () => {
  document.body.classList.toggle("dark");
};

const GEO_KEY = "d04a8da08d6840459080cf9f6d56d357";

const cities = {
  goa: { lat: 15.491997, lon: 73.818001 },
  manali: { lat: 32.2432, lon: 77.1892 },
  himachal: { lat: 31.1048, lon: 77.1734 },
  rajasthan: { lat: 27.0238, lon: 74.2179 }
};

const map = L.map("map").setView([15.49, 73.81], 10);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

let markers = [];
const placesList = document.getElementById("placesList");

function loadAttractions(city) {
  const { lat, lon } = cities[city];

  markers.forEach(m => map.removeLayer(m));
  markers = [];
  map.setView([lat, lon], 10);
  placesList.innerHTML = "";

  fetch(`https://api.geoapify.com/v2/places?categories=tourism.sights&filter=circle:${lon},${lat},5000&limit=6&apiKey=${GEO_KEY}`)
    .then(res => res.json())
    .then(data => {
      data.features.forEach(place => {
        const name = place.properties.name || "Attraction";

        placesList.innerHTML += `
          <div class="package-card">
            <img src="https://source.unsplash.com/400x250/?${encodeURIComponent(name)}">
            <h3>${name}</h3>
            <a class="btn" target="_blank"
              href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(name)}">
              View on Map
            </a>
          </div>`;

        if (place.geometry) {
          const m = L.marker([
            place.geometry.coordinates[1],
            place.geometry.coordinates[0]
          ]).addTo(map).bindPopup(name);
          markers.push(m);
        }
      });
    });
}

loadAttractions("goa");

document.getElementById("citySelect").addEventListener("change", e => {
  loadAttractions(e.target.value);
});

document.querySelectorAll("[data-city]").forEach(btn => {
  btn.addEventListener("click", () => loadAttractions(btn.dataset.city));
});
</script>

</body>
</html>